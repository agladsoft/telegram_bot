# ๐ค Telegram Bot - ะกะธััะตะผะฐ ะผะพะฝะธัะพัะธะฝะณะฐ ัะตัะฒะธัะพะฒ

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

Telegram ะฑะพั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะธ ัะฟัะฐะฒะปะตะฝะธั ัะฐะทะปะธัะฝัะผะธ ัะตัะฒะธัะฐะผะธ ะธ ัะธััะตะผะฐะผะธ. ะะพั ะฟัะตะดะพััะฐะฒะปัะตั ัะดะพะฑะฝัะน ะธะฝัะตััะตะนั ะดะปั ะฟัะพะฒะตัะบะธ ัะพััะพัะฝะธั ะฑะฐะท ะดะฐะฝะฝัั, ะฑะฐะปะฐะฝัะพะฒ, ะปะพะณะพะฒ ะบะพะฝัะตะนะฝะตัะพะฒ ะธ ัะธััะตะผะฝะพะน ััะฐัะธััะธะบะธ.

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ๐ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- **๐๏ธ ะะพะฝะธัะพัะธะฝะณ ะฑะฐะทั ะดะฐะฝะฝัั**: ะัะพะฒะตัะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ClickHouse
- **๐ฐ ะคะธะฝะฐะฝัะพะฒัะน ะผะพะฝะธัะพัะธะฝะณ**: ะััะปะตะถะธะฒะฐะฝะธะต ะฑะฐะปะฐะฝัะฐ ะฏะฝะดะตะบั.ะะพัะตะปัะบะฐ ัะตัะตะท XML River API
- **๐ API ะผะพะฝะธัะพัะธะฝะณ**: ะัะพะฒะตัะบะฐ ะพััะฐะฒัะธััั ะทะฐะฟัะพัะพะฒ ะฒ ัะตัะฒะธัะต Dadata
- **๐ป ะกะธััะตะผะฝัะน ะผะพะฝะธัะพัะธะฝะณ**: ะกัะฐัะธััะธะบะฐ CPU, RAM ะธ ะดะธัะบะพะฒะพะณะพ ะฟัะพัััะฐะฝััะฒะฐ
- **๐ณ Docker ัะฟัะฐะฒะปะตะฝะธะต**: ะัะพัะผะพัั ะปะพะณะพะฒ ะบะพะฝัะตะนะฝะตัะพะฒ
- **๐ ะะฝะฐะปะธัะธะบะฐ**: ะะพะดััะตั ะบะพะผะฟะฐะฝะธะน ั ัะฝะธัะธัะธัะพะฒะฐะฝะฝัะผะธ ะฝะฐะทะฒะฐะฝะธัะผะธ

### ๐ฏ ะฆะตะปะตะฒะฐั ะฐัะดะธัะพัะธั

ะะพั ะฟัะตะดะฝะฐะทะฝะฐัะตะฝ ะดะปั ัะธััะตะผะฝัั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ, DevOps-ะธะฝะถะตะฝะตัะพะฒ ะธ ัะฐะทัะฐะฑะพััะธะบะพะฒ, ะบะพัะพััะผ ะฝะตะพะฑัะพะดะธะผะพ ะพะฟะตัะฐัะธะฒะฝะพ ะฟะพะปััะฐัั ะธะฝัะพัะผะฐัะธั ะพ ัะพััะพัะฝะธะธ ัะฐะทะปะธัะฝัั ัะตัะฒะธัะพะฒ ะธ ะธะฝััะฐััััะบัััั.

## ๐๏ธ ะััะธัะตะบัััะฐ

### ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
telegram_bot/
โโโ ๐ main.py              # ะัะฝะพะฒะฝะพะน ัะฐะนะป ะฑะพัะฐ ั ะปะพะณะธะบะพะน
โโโ โ๏ธ __init__.py          # ะะพะฝัะธะณััะฐัะธั ะธ ะฒัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โโโ ๐ฆ requirements.txt     # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ณ Dockerfile          # Docker ะพะฑัะฐะท
โโโ ๐ docker-compose.yml  # Docker Compose ะบะพะฝัะธะณััะฐัะธั
โโโ ๐ README.md           # ะะพะบัะผะตะฝัะฐัะธั
```

### ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

- **๐ Python 3.8+** - ะพัะฝะพะฒะฝะพะน ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั
- **๐ค pyTelegramBotAPI** - ะฑะธะฑะปะธะพัะตะบะฐ ะดะปั ัะฐะฑะพัั ั Telegram Bot API
- **๐ณ Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
- **๐๏ธ ClickHouse** - ะฑะฐะทะฐ ะดะฐะฝะฝัั ะดะปั ะฐะฝะฐะปะธัะธะบะธ
- **๐ Dadata API** - ัะตัะฒะธั ะดะปั ัะฐะฑะพัั ั ะดะฐะฝะฝัะผะธ ะบะพะผะฟะฐะฝะธะน
- **๐ฐ XML River API** - ะธะฝัะตะณัะฐัะธั ั ะฏะฝะดะตะบั.ะะพัะตะปัะบะพะผ
- **๐ป psutil** - ัะธััะตะผะฝัะน ะผะพะฝะธัะพัะธะฝะณ
- **๐ณ docker-py** - ัะฟัะฐะฒะปะตะฝะธะต Docker ะบะพะฝัะตะนะฝะตัะฐะผะธ

## โ๏ธ ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ

### ๐ ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- ๐ Python 3.8 ะธะปะธ ะฒััะต
- ๐ณ Docker ะธ Docker Compose
- ๐ค Telegram Bot Token (ะฟะพะปััะธัั ั @BotFather)
- ๐๏ธ ะะพัััะฟ ะบ ClickHouse ะฑะฐะทะต ะดะฐะฝะฝัั
- ๐ API ะบะปััะธ ะดะปั Dadata ะธ XML River

### ๐ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะตะฒะพะน ะดะธัะตะบัะพัะธะธ ะฟัะพะตะบัะฐ:

```bash
# ๐ค Telegram Bot Token
TOKEN=your_telegram_bot_token_here

# ๐๏ธ ClickHouse Database
HOST=your_clickhouse_host
DATABASE=your_database_name
USERNAME_DB=your_username
PASSWORD=your_password

# ๐ง ะััะณะธะต ะฟะตัะตะผะตะฝะฝัะต (ะพะฟัะธะพะฝะฐะปัะฝะพ)
```

### ๐ณ ะะฐะฟััะบ ัะตัะตะท Docker (ัะตะบะพะผะตะฝะดัะตััั)

1. **๐ฅ ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั**
   ```bash
   git clone <repository-url>
   cd telegram_bot
   ```

2. **โ๏ธ ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั**
   ```bash
   cp .env.example .env
   # ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป ั ะฒะฐัะธะผะธ ะดะฐะฝะฝัะผะธ
   ```

3. **๐จ ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ**
   ```bash
   docker-compose up --build -d
   ```

4. **โ ะัะพะฒะตัะบะฐ ััะฐัััะฐ**
   ```bash
   docker-compose ps
   docker-compose logs telegram_bot
   ```

### ๐ ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

1. **๐ฟ ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/Mac
   # ะธะปะธ
   venv\Scripts\activate     # Windows
   ```

2. **๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน**
   ```bash
   pip install -r requirements.txt
   ```

3. **โ๏ธ ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั**
   ```bash
   export TOKEN="your_telegram_bot_token"
   export HOST="your_clickhouse_host"
   export DATABASE="your_database_name"
   export USERNAME_DB="your_username"
   export PASSWORD="your_password"
   ```

4. **๐ ะะฐะฟััะบ ะฑะพัะฐ**
   ```bash
   python main.py
   ```

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ๐ ะะพะผะฐะฝะดั ะฑะพัะฐ

- `/start` - ๐ ะณะปะฐะฒะฝะพะต ะผะตะฝั
- `/check_connect_db` - ๐๏ธ ะฟัะพะฒะตัะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ะฑะฐะทะต ะดะฐะฝะฝัั
- `/check_balance_xml_river` - ๐ฐ ะฟัะพะฒะตัะบะฐ ะฑะฐะปะฐะฝัะฐ ะฏะฝะดะตะบั.ะะพัะตะปัะบะฐ
- `/check_num_requests_dadata` - ๐ ะฟัะพะฒะตัะบะฐ ะพััะฐะฒัะธััั ะทะฐะฟัะพัะพะฒ Dadata
- `/get_memory` - ๐ป ัะธััะตะผะฝะฐั ััะฐัะธััะธะบะฐ
- `/get_logs_docker` - ๐ณ ะปะพะณะธ Docker ะบะพะฝัะตะนะฝะตัะพะฒ
- `/uni_company` - ๐ ะฐะฝะฐะปะธะท ะบะพะผะฟะฐะฝะธะน ั ัะฝะธัะธัะธัะพะฒะฐะฝะฝัะผะธ ะฝะฐะทะฒะฐะฝะธัะผะธ

### ๐จ ะะฝัะตััะตะนั

ะะพั ะฟัะตะดะพััะฐะฒะปัะตั ะธะฝััะธัะธะฒะฝะพ ะฟะพะฝััะฝัะน ะธะฝัะตััะตะนั ั inline-ะบะฝะพะฟะบะฐะผะธ ะดะปั ะฝะฐะฒะธะณะฐัะธะธ ะฟะพ ััะฝะบัะธัะผ. ะัะต ะพัะฝะพะฒะฝัะต ะพะฟะตัะฐัะธะธ ะดะพัััะฟะฝั ัะตัะตะท ะณะปะฐะฒะฝะพะต ะผะตะฝั.

## ๐จโ๐ป ะะฐะทัะฐะฑะพัะบะฐ

### ๐ง ะกัััะบัััะฐ ะบะพะดะฐ

- **๐ main.py**: ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะฑะพัะฐ, ะพะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด ะธ callback-ััะฝะบัะธะน
- **โ๏ธ __init__.py**: ะะพะฝัะธะณััะฐัะธั, ะปะพะณะธัะพะฒะฐะฝะธะต ะธ ะฒัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
- **๐ ะะฑัะฐะฑะพััะธะบะธ**: ะะพะดัะปัะฝะฐั ััััะบัััะฐ ะดะปั ัะฐะทะปะธัะฝัั ัะธะฟะพะฒ ะบะพะผะฐะฝะด

### ๐ ะะพะณะธัะพะฒะฐะฝะธะต

ะะพั ะธัะฟะพะปัะทัะตั ัะธััะตะผั ะปะพะณะธัะพะฒะฐะฝะธั ั ะทะฐะฟะธััั ะฒ ัะฐะนะปั ะธ ะฒัะฒะพะดะพะผ ะฒ ะบะพะฝัะพะปั. ะะพะณะธ ัะพััะฐะฝััััั ะฒ ะดะธัะตะบัะพัะธะธ `logging/` ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน ะพ ะฒัะตะผะตะฝะธ, ััะพะฒะฝะต ะธ ะธััะพัะฝะธะบะต.

### ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

ะะปั ัะตััะธัะพะฒะฐะฝะธั ัะตะบะพะผะตะฝะดัะตััั:
1. ๐ค ะัะฟะพะปัะทะพะฒะฐัั ัะตััะพะฒัะน Telegram ะฑะพั
2. ๐๏ธ ะกะพะทะดะฐัั ะพัะดะตะปัะฝัั ัะตััะพะฒัั ะฑะฐะทั ะดะฐะฝะฝัั
3. ๐ญ ะัะฟะพะปัะทะพะฒะฐัั mock-ะดะฐะฝะฝัะต ะดะปั ะฒะฝะตัะฝะธั API

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต

### ๐ญ ะัะพะดะฐะบัะฝ

1. **โ๏ธ ะะฐัััะพะนะบะฐ production ะฟะตัะตะผะตะฝะฝัั**
   ```bash
   # ะ .env ัะฐะนะปะต
   TOKEN=production_bot_token
   HOST=production_db_host
   # ... ะดััะณะธะต production ะฝะฐัััะพะนะบะธ
   ```

2. **๐ ะะฐะฟััะบ ะฒ production**
   ```bash
   docker-compose -f docker-compose.yml up -d
   ```

3. **๐ ะะพะฝะธัะพัะธะฝะณ**
   ```bash
   docker-compose logs -f telegram_bot
   ```

### ๐ ะะฑะฝะพะฒะปะตะฝะธั

1. **โน๏ธ ะััะฐะฝะพะฒะบะฐ ัะตัะฒะธัะฐ**
   ```bash
   docker-compose down
   ```

2. **๐ฅ ะะฑะฝะพะฒะปะตะฝะธะต ะบะพะดะฐ**
   ```bash
   git pull origin main
   ```

3. **๐จ ะะตัะตัะฑะพัะบะฐ ะธ ะทะฐะฟััะบ**
   ```bash
   docker-compose up --build -d
   ```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ๐ก๏ธ ะะตะบะพะผะตะฝะดะฐัะธะธ

- ๐ ะฅัะฐะฝะธัะต ัะพะบะตะฝั ะธ ะฟะฐัะพะปะธ ะฒ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
- ๐ณ ะะณัะฐะฝะธัััะต ะดะพัััะฟ ะบ Docker socket
- ๐ ะัะฟะพะปัะทัะนัะต HTTPS ะดะปั ะฒะฝะตัะฝะธั API
- ๐ฆ ะะตะณัะปััะฝะพ ะพะฑะฝะพะฒะปัะนัะต ะทะฐะฒะธัะธะผะพััะธ
- ๐ค ะะณัะฐะฝะธัััะต ะดะพัััะฟ ะบ ะฑะพัั ะฟะพ username

### ๐ซ ะะณัะฐะฝะธัะตะฝะธั ะดะพัััะฟะฐ

ะะตะบะพัะพััะต ััะฝะบัะธะธ (ะฝะฐะฟัะธะผะตั, ะฟัะพัะผะพัั ะปะพะณะพะฒ Docker) ะดะพัััะฟะฝั ัะพะปัะบะพ ะพะฟัะตะดะตะปะตะฝะฝัะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ:

```python
if message.from_user.username in ["timurzav", "uventus8"]:
    # ๐ ะะพัััะฟ ะบ ัะฐััะธัะตะฝะฝัะผ ััะฝะบัะธัะผ
```

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะฟะพะดะดะตัะถะบะฐ

### ๐ ะะพะณะธ

- ๐ ะะพะณะธ ะฟัะธะปะพะถะตะฝะธั: `logging/` ะดะธัะตะบัะพัะธั
- ๐ณ Docker ะปะพะณะธ: `docker-compose logs telegram_bot`
- ๐ป ะกะธััะตะผะฝัะต ะปะพะณะธ: ัะตัะตะท ััะฐะฝะดะฐััะฝัะต ััะตะดััะฒะฐ ะะก

### ๐ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

1. **๐ค ะะพั ะฝะต ะพัะฒะตัะฐะตั**
   - ๐ ะัะพะฒะตัััะต ัะพะบะตะฝ ะฒ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
   - โ ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะทะฐะฟััะตะฝ
   - ๐ ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ

2. **๐๏ธ ะัะพะฑะปะตะผั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั**
   - ๐ ะัะพะฒะตัััะต ะดะพัััะฟะฝะพััั ClickHouse
   - ๐ค ะฃะฑะตะดะธัะตัั ะฒ ะฟัะฐะฒะธะปัะฝะพััะธ ััะตัะฝัั ะดะฐะฝะฝัั
   - ๐ ะัะพะฒะตัััะต ัะตัะตะฒัะต ะฝะฐัััะพะนะบะธ

3. **๐ณ ะัะธะฑะบะธ Docker**
   - ๐ ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ ะบ Docker socket
   - ๐ ะฃะฑะตะดะธัะตัั ะฒ ะทะฐะฟััะตะฝะฝะพะผ Docker daemon
   - โ๏ธ ะัะพะฒะตัััะต ะบะพะฝัะธะณััะฐัะธั docker-compose

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

### ๐ ะะฐะบ ะฟะพะผะพัั

1. ๐ด ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ๐ฟ ะกะพะทะดะฐะนัะต feature branch
3. โ๏ธ ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ๐ ะกะพะทะดะฐะนัะต Pull Request

### ๐ ะกัะฐะฝะดะฐััั ะบะพะดะฐ

- ๐ ะกะปะตะดัะนัะต PEP 8 ะดะปั Python ะบะพะดะฐ
- ๐ฌ ะะพะฑะฐะฒะปัะนัะต ะบะพะผะผะตะฝัะฐัะธะธ ะบ ัะปะพะถะฝะพะน ะปะพะณะธะบะต
- ๐ ะะฑะฝะพะฒะปัะนัะต ะดะพะบัะผะตะฝัะฐัะธั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ API
- ๐งช ะะธัะธัะต ัะตััั ะดะปั ะฝะพะฒัั ััะฝะบัะธะน

## ๐ ะะธัะตะฝะทะธั

[ะฃะบะฐะถะธัะต ัะธะฟ ะปะธัะตะฝะทะธะธ]

## ๐ ะะพะฝัะฐะบัั

- ๐ค ะะฒัะพั: [ะะฐัะต ะธะผั]
- ๐ง Email: [ะฒะฐั_email]
- ๐ค Telegram: [ะฒะฐั_username]

## ๐ ะััะพัะธั ะธะทะผะตะฝะตะฝะธะน

### ๐ v1.0.0
- ๐ ะะฐะทะพะฒะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั ะผะพะฝะธัะพัะธะฝะณะฐ
- ๐ ะะฝัะตะณัะฐัะธั ั ClickHouse, Dadata, XML River
- ๐ณ Docker ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- ๐ ะกะธััะตะผะฐ ะปะพะณะธัะพะฒะฐะฝะธั
